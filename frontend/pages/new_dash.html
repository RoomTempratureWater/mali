<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plant Watering Dashboard</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <title>
    Mali
  </title>

  <link href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700,800" rel="stylesheet" />
  <link href="https://demos.creative-tim.com/soft-ui-dashboard/assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="https://demos.creative-tim.com/soft-ui-dashboard/assets/css/nucleo-svg.css" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="./style.css">
  <link id="pagestyle" href="../assets/css/soft-ui-dashboard.css?v=1.1.0" rel="stylesheet" />
  <script defer data-site="YOUR_DOMAIN_HERE" src="https://api.nepcha.com/js/nepcha-analytics.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }
    
    body {
  background-color: #dfe2dc;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  padding: 40px;
  margin: auto;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    overflow: auto;
    background: linear-gradient(315deg, rgba(101,0,94,1) 3%, rgba(60,132,206,1) 38%, rgba(48,238,226,1) 68%, rgba(255,25,25,1) 98%);
    animation: gradient 15s ease infinite;
    background-size: 400% 400%;
    background-attachment: fixed;
}

.container {
            width: 300px;
            margin: auto;
        }
        .btn {
            position: relative;
            width: 200px;
            height: 50px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            color: white;
            background-color: #4CAF50;
            cursor: pointer;
            overflow: hidden;
            transition: background 0.3s;
        }
        .cancel-btn {
            display: none;
            margin-top: 10px;
            width: 100px;
            height: 40px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 20px;
            background-color: #f44336;
            color: white;
            cursor: pointer;
        }
        /* Loading animation */
        .btn.loading::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(255, 255, 255, 0.3) 50%, transparent 100%);
            background-size: 200% 100%;
            animation: loadingBar var(--duration, 10s) linear forwards;
        }
        @keyframes loadingBar {
            from { width: 0%; }
            to { width: 100%; }
        }

.dashboard {
  display: grid;
  grid-template-columns: repeat(4, 1fr); /* 4 columns */
  grid-template-rows: repeat(4, auto);  /* 4 rows */
  gap: 20px;
  max-width: 1200px;
  width: 100%;
}

.block {
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
} 

/* Block 1 */
.block-1 {
  grid-column: 1 / 2; /* Spans (0,0) → (0,1) and (1,0) → (1,1) */
  grid-row: 1 / 2;
  background-color: #1e1e1e;
  color: white;
} 

/* Block 2 */
.block-2 {
  grid-column: 3 / 5; /* Spans (0,3) → (0,4) */
  grid-row: 1 / 4;
  background-color: #f5f5f5;
}

/* Block 3 */
.block-3 {  
  grid-column: 1 / 3; /* Spans (2,0) → (2,1) and (3,0) → (3,1) */
  grid-row: 2 / 5;
  background-color: #ffffff;
}

/* Block 4 */
.block-4 {
  grid-column: 3 / 5; /* Spans (1,2) → (1,3), (2,2) → (2,3), (3,2) → (3,3) */
  grid-row: 4 / 5;
  background-color: #f0f0f0;
}

.block-5 {
  grid-column: 2 / 3; /* Spans (1,2) → (1,3), (2,2) → (2,3), (3,2) → (3,3) */
  grid-row: 1 / 2;
  background-color: #f0f0f0;
}

    
    .card {
      background-color: white;
      border-radius: 40px;
      padding: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .card-dark {
      background-color: #1c1c1e;
      color: white;
    }
    
    .card-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .card-title h2 {
      font-size: 18px;
      font-weight: 600;
    }
    
    .card-subtitle {
      font-size: 12px;
      color: #888;
      margin-top: 4px;
    }
    
    .card-dark .card-subtitle {
      color: #aaa;
    }
    
    .dropdown {
      background-color: rgba(60, 60, 60, 0.8);
      border-radius: 40px;
      padding: 6px 12px;
      color: white;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    /* Plant Stats Card - REDUCED SIZE */
    .plant-stats {
      display: flex;
      align-items: center;
    }
    
    .stats-info {
      flex: 1;
    }
    
    .stats-item {
      margin-bottom: 14px; /* Reduced from 16px */
    }
    
    .stats-label {
      font-size: 14px;
      color: #aaa;
    }
    
    .chart-container {
      height: 195px; /* Reduced from 170px */
      
      position: relative;
      display: flex;
      justify-content: space-around;
      align-items: flex-end;
    }
    
    .bar-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 70px; /* Reduced from 80px */
    }
    
    .bar-label {
      margin-top: 8px; /* Reduced from 10px */
      font-size: 13px; /* Reduced from 14px */
      color: #aaa;
      font-weight: 500;
    }
    
    .bar {
      width: 60px; /* Reduced from 70px */
      border-radius: 12px;
      background-color: #a9fac6;
      overflow: hidden;
      position: relative;
    }
    
    .bar-inner {
      width: 100%;
      background-color: #a2a8ff;
      position: absolute;
      bottom: 0;
    }
    
    .plant-metric {
      display: flex;
      align-items: center;
      gap: 12px;
      
      font-size: 14px;
      color: #aaa;
    }
    
    .metric-badge {
      color: white;
      border-radius: 4px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 15px;
        
      width: auto;
      height: auto;
      padding: 2px 5px;
    }
    
    .humidity-badge {
      background-color: #4caf50;
    }
    
    .temp-badge {
      background-color: #f44336;
    }
    
    .big-number {
      font-size: 38px; /* Reduced from 42px */
      font-weight: 700;
    }
    
    /* Recent Actions Card - REDUCED SIZE */
    .recent-actions {
      display: flex;
      flex-direction: column;
      
    }
    
    .action-header {
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
    }
    
    .icon-circle {
      width: 38px; /* Reduced from 40px */
      height: 38px; /* Reduced from 40px */
      border-radius: 50%;
      background-color: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-shrink: 0;
    }
    
    .action-item {
      background-color: #f5f5f5;
      border-radius: 12px;
      padding: 10px 14px; /* Reduced from 12px 16px */
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px; /* Reduced from 12px */
    }
    
    .action-date {
      font-size: 11px; /* Reduced from 12px */
      color: #888;
      margin-top: 3px; /* Reduced from 4px */
    }
    
    .plant-images {
      display: flex;
      align-items: center;

    }
    
    .plant-image {
      width: 100px;  /* Adjust as needed */
      height: 100px; /* Adjust as needed */
  object-fit: cover;
  border-radius: 50%;
}
img {
    width: 100px;  /* Adjust as needed */
    height: 100px; /* Adjust as needed */
    object-fit: cover;
    border-radius: 50%;
}
    
    /* Water Level Card */
    .water-level-card {
      position: relative;
      height: 240px;
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    
    .water-tank {
      width: 120px;
      height: 160px;
      border-radius: 8px;
      border: 2px solid #ddd;
      position: relative;
      
      background-color: white;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    }
    
    .water-fill {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 75%;
      background: linear-gradient(180deg, #a2a8ff 0%, #a9fac6 100%);
      transition: height 1s ease;
    }
    
    .water-level-text {
      padding-bottom: 15px;
      top: -40px;
      font-size: 28px;
      font-weight: 600;
      color: #1c1c1e;
    }
    
    .water-percentage {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      font-weight: 600;
      color: #1c1c1e;
      z-index: 2;
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
    }
    
    .water-level-indicators {
      position: absolute;
      left: -20px;
      top: 0;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    
    .level-indicator {
      width: 12px;
      height: 1px;
      background-color: #ddd;
      position: relative;
    }
    
    .level-indicator::after {
      content: attr(data-level);
      position: absolute;
      left: -24px;
      top: -8px;
      font-size: 10px;
      color: #888;
    }
    
    .water-info-bar {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 16px;
    }
    
    .refill-info {
      font-size: 13px;
      color: #888;
    }
    
    /* Watering Controls Card - IMPROVED */
    .controls-container {
      display: flex;
      height: 240px;
      padding-top: 20px;
    }
    
    .timer-container {
      width: 180px;
      height: 100%;
      position: relative;
    }
    
    .controls-card {
      padding-bottom: 24px;
    }

    .controls-description {
      font-size: 13px;
      color: #666;
      margin-top: 4px;
      margin-bottom: 12px;
      max-width: 90%;
    }
    
    .timer-slider {
      height: 100%;
      margin-left: 40px;
      position: relative;
    }
    
    /* IMPROVED SLIDER */
    .slider-track {
      position: absolute;
      left: 10px;
      top: 0;
      width: 8px; /* Increased from 4px */
      height: 100%;
      background-color: #eee;
      border-radius: 4px; /* Increased from 2px */
    }
    
    .slider-filled {
      position: absolute;
      left: 10px;
      bottom: 0;
      width: 8px; /* Increased from 4px */
      height: 40%;
      
      border-radius: 4px; /* Increased from 2px */
    }
    
    .slider-ticks {
      height: 100%;
      position: relative;
    }
    
    .slider-tick {
      display: flex;
      align-items: center;
      position: absolute;
      left: 0;
      height: 20px;
      cursor: pointer; /* Added cursor pointer */
    }
    
    .slider-tick:nth-child(1) { top: 0%; }
    .slider-tick:nth-child(2) { top: 20%; }
    .slider-tick:nth-child(3) { top: 40%; }
    .slider-tick:nth-child(4) { top: 60%; }
    .slider-tick:nth-child(5) { top: 80%; }
    
    .slider-tick::before {
      content: '';
      position: absolute;
      left: 10px;
      width: 14px; /* Increased from 12px */
      height: 2px; /* Increased from 1px */
      background-color: #ddd;
    }
    
    .slider-thumb {
      position: absolute;
      left: 6px;
      width: 16px; /* Increased from 10px */
      height: 16px; /* Increased from 10px */
      
      background-color: #333;
      
      cursor: pointer;
      top: 40%;
     
      z-index: 10;
    }
    
    /* NEW STYLES FOR CLICKABLE TIME VALUES */
    .time-selector {
      display: flex;
      align-items: center;
      margin-left: 30px;
      cursor: pointer;
    }
    
    .slider-value {
      font-weight: 600;
      font-size: 15px;
      padding: 3px 8px;
      border: 1px solid #ddd;
      border-radius: 6px;
      background-color: #f9f9f9;
      transition: all 0.2s ease;
    }
    
    .slider-value.active {
      background-color: #a9fac6;
      border-color: #70e99e;
    }
    
    .slider-label {
      font-size: 11px;
      color: #888;
      margin-left: 4px;
    }
    
    .control-buttons {
      display: flex;
      flex-direction: column;
      gap: 16px;
      flex: 1;
      margin-left: 40px;
    }
    
    .control-button {
      border-radius: 12px;
      padding: 16px;
      position: relative;
      overflow: hidden;
      font-weight: 600;
      text-align: center;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #000;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    
    .control-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
    }
    
    .control-button:active {
      transform: translateY(1px);
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }
    
    .start-button {
      background-color: #a9fac6;
      flex: 2;
    }
    
    .stop-button {
      background-color: #a2a8ff;
      flex: 1;
      font-size: 16px;
    }
    
    .nav-controls {
      display: flex;
      gap: 8px;
    }
    
    .nav-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 1px solid #ddd;
      background-color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }
    
    .icon-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      position: absolute;
      left: 16px;
      top: 16px;
      z-index: 2;
    }
    
    .icon-controls {
      background-color: #a9fac6;
    }
    @keyframes gradient {
    0% {
        background-position: 0% 0%;
    }
    50% {
        background-position: 100% 100%;
    }
    100% {
        background-position: 0% 0%;
    }
}

.wave {
    background: rgb(255 255 255 / 25%);
    border-radius: 1000% 1000% 0 0;
    position: fixed;
    width: 200%;
    height: 12em;
    animation: wave 10s -3s linear infinite;
    transform: translate3d(0, 0, 0);
    opacity: 0.8;
    bottom: 0;
    left: 0;
    z-index: -1;
}

.wave:nth-of-type(2) {
    bottom: -1.25em;
    animation: wave 18s linear reverse infinite;
    opacity: 0.8;
}

.wave:nth-of-type(3) {
    bottom: -2.5em;
    animation: wave 20s -1s reverse infinite;
    opacity: 0.9;
}

@keyframes wave {
    2% {
        transform: translateX(1);
    }

    25% {
        transform: translateX(-25%);
    }

    50% {
        transform: translateX(-50%);
    }

    75% {
        transform: translateX(-25%);
    }

    100% {
        transform: translateX(1);
    }
}
  </style>
</head>
<body>

  <!-- partial:index.partial.html -->
  <div>
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
 </div>
<!-- partial -->
 
  <div class="dashboard">
    <!-- Plant Statistics Card -->
    <div class="block block-1 card ">
      <div class="card-title">
        <div>
          <h2>User Name</h2>
          <div class="card-subtitle">Email id</div>
        </div>
        <div class="plant-images">
          <div class="plant-image">
            <img src="https://picsum.photos/seed/picsum/200/300" alt="Plant 1">
          </div>
        </div>
      </div>
      
      <div class="plant-stats">
        
        <div class="stats-info">
          <div class="stats-item">
            
            <div class="plant-metric">
              <div>Humidity</div>
              <div class="metric-badge humidity-badge">%</div>
            </div>
            <div class="big-number">65</div>
          </div>
          
          <div class="stats-item">
            <div class="plant-metric">
              <div>Temperature</div>
              <div class="metric-badge temp-badge">°C</div>
            </div>
            <div class="big-number">23</div>
          </div>
        </div>
        
        <div class="chart-container">
          <div class="bar-group">
            <div class="bar" style="height: 100px;">
              <div class="bar-inner" style="height: 60%;"></div>
            </div>
            <div class="bar-label">Sep</div>
          </div>
          <div class="bar-group">
            <div class="bar" style="height: 130px;">
              <div class="bar-inner" style="height: 50%;"></div>
            </div>
            <div class="bar-label">Oct</div>
          </div>
        </div>
      </div>
    </div>

      <!-- Plant Statistics Card 222-->
      <div class="block block-5 card ">
        <div class="card-title">
          <div>
            <h2>Plant Conditions</h2>
            <div class="card-subtitle">Updated 5 minutes ago</div>
          </div>
          <div class="dropdown">
            Real-time ▾
          </div>
        </div>
        
        <div class="plant-stats">
          <div class="stats-info">
            <div class="stats-item">
              <div class="plant-metric">
                <div>Humidity</div>
                <div class="metric-badge humidity-badge">%</div>
              </div>
              <div class="big-number">65</div>
            </div>
            
            <div class="stats-item">
              <div class="plant-metric">
                <div>Temperature</div>
                <div class="metric-badge temp-badge">°C</div>
              </div>
              <div class="big-number">23</div>
            </div>
          </div>
          
          <div class="chart-container">
            <div class="bar-group">
              <div class="bar" style="height: 100px;">
                <div class="bar-inner" style="height: 60%;"></div>
              </div>
              <div class="bar-label">Sep</div>
            </div>
            <div class="bar-group">
              <div class="bar" style="height: 130px;">
                <div class="bar-inner" style="height: 50%;"></div>
              </div>
              <div class="bar-label">Oct</div>
            </div>
          </div>
        </div>
      </div>
    
    <!-- Recent Actions Card -->
    <div class="block block-2 card ">
      <div class="action-header">
        <div class="icon-circle">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="16"></line>
            <line x1="8" y1="12" x2="16" y2="12"></line>
          </svg>
        </div>
        <div>
          <h2>Recent Activities</h2>
          <div class="card-subtitle">Watering history</div>
        </div>

      </div>
      
      <div class="recent-actions">
        <div class="action-item">
          <div>
            <div>Watered for 25 seconds</div>
            <div class="action-date">Today, 08:35 AM</div>
          </div>
          <div>⋮</div>
        </div>
        
        <div class="action-item">
          <div>
            <div>Plant fertilized</div>
            <div class="action-date">Yesterday, 06:15 PM</div>
          </div>
          <div>⋮</div>
        </div>
        
        <div class="action-item">
          <div>
            <div>Water tank refilled</div>
            <div class="action-date">2 days ago, 07:20 AM</div>
          </div>
          <div>⋮</div>
        </div>
      </div>
    </div>
    
    <!-- Water Level Card -->
    <div class="card card-dark block block-3">
      <div class="card-title">
        <h2>Water Level</h2>
        <div class="nav-controls">
          <div class="nav-btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </div>
          <div class="nav-btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </div>
        </div>
      </div>
      

          <!-- <div class="card-header pb-0">
            <h6>Sales overview</h6>
            <p class="text-sm">
              <i class="fa fa-arrow-up text-success"></i>
              <span class="font-weight-bold">4% more</span> in 2021
            </p>
          </div> -->
          <div class="card-body p-3">
            <div class="chart">
              <canvas id="chart-line" class="chart-canvas" height="400" width="1000"></canvas>
            </div>
          </div>
    </div>

    
    <!-- Watering Controls Card - IMPROVED -->
    <div class="card block block-4">
      <div class="action-header">
        <div class="icon-circle icon-controls">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2">
            <circle cx="12" cy="8" r="7"></circle>
            <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
          </svg>
        </div>
        <div>
          <h2>Watering Controls</h2>
          <div class="controls-description">Select watering duration and press Start to begin watering your plants</div>
        </div>
      </div>
      
      <div class="controls-container">
        <div class="timer-container">
          <div class="timer-slider">
            <div class="slider-track"></div>
            <div class="slider-filled"></div>
            <div class="slider-thumb"></div>
            
            <div class="slider-ticks">
              <div class="slider-tick" data-value="0" id="tick-0">
                <div class="time-selector">
                  <div class="slider-value" id="value-0">5</div>
                  <div class="slider-label">sec</div>
                </div>
              </div>
              
              <div class="slider-tick" data-value="20" id="tick-1">
                <div class="time-selector">
                  <div class="slider-value" id="value-1">25</div>
                  <div class="slider-label">sec</div>
                </div>
              </div>
              
              <div class="slider-tick" data-value="40" id="tick-2">
                <div class="time-selector">
                  <div class="slider-value active" id="value-2">50</div>
                  <div class="slider-label">sec</div>
                </div>
              </div>
              
              <div class="slider-tick" data-value="60" id="tick-3">
                <div class="time-selector">
                  <div class="slider-value" id="value-3">75</div>
                  <div class="slider-label">sec</div>
                </div>
              </div>
              
              <div class="slider-tick" data-value="80" id="tick-4">
                <div class="time-selector">
                  <div class="slider-value" id="value-4">100</div>
                  <div class="slider-label">sec</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="control-buttons">
          <div class="container">
            <label for="slider">Set time (seconds):</label>
            <input type="range" id="slider" min="5" max="50" step="5" value="10" oninput="updateLabel()">
            <span id="sliderValue">10</span> sec
        
            <br><br>
        
            <button id="startButton" class="btn control-button start-button" onclick="startLoading()">Start</button>
            <button id="cancelButton" class="cancel-btn control-button stop-button" onclick="cancelLoading()">Cancel</button>
        </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Improved slider functionality with clickable time values
    document.addEventListener('DOMContentLoaded', function() {
      const slider = document.querySelector('.timer-slider');
      const thumb = document.querySelector('.slider-thumb');
      const filledTrack = document.querySelector('.slider-filled');
      const ticks = document.querySelectorAll('.slider-tick');
      const timeValues = document.querySelectorAll('.slider-value');
      
      let currentTickIndex = 2; // Default to middle tick (50 sec)
      updateSlider(currentTickIndex);
      
      function updateSlider(tickIndex) {
        // Remove active class from all values
        timeValues.forEach(value => {
          value.classList.remove('active');
        });
        
        // Add active class to selected value
        document.getElementById(`value-${tickIndex}`).classList.add('active');
        
        // Calculate position (0-80%)
        const position = tickIndex * 20;
        
        // Position thumb at the tick
        thumb.style.top = `${position}%`;
        
        // Update filled track - invert the percentage for visual fill
        filledTrack.style.height = `${position}%`;
      }
      
      // Make tick labels clickable
      ticks.forEach((tick, index) => {
        tick.addEventListener('click', function() {
          currentTickIndex = index;
          updateSlider(currentTickIndex);
        });
        
        // Make the time values clickable too
        const timeValue = tick.querySelector('.slider-value');
        if (timeValue) {
          timeValue.addEventListener('click', function(e) {
            e.stopPropagation(); // Prevent double triggering
            currentTickIndex = index;
            updateSlider(currentTickIndex);
          });
        }
      });
      
      // Make the slider track and thumb draggable
      if (slider && thumb) {
        slider.addEventListener('click', function(e) {
          // Get position relative to slider
          const sliderRect = slider.getBoundingClientRect();
          const clickPositionY = e.clientY - sliderRect.top;
          const sliderHeight = sliderRect.height;
          
          // Calculate percentage (0 to 100)
          let percentage = (clickPositionY / sliderHeight) * 100;
          
          // Find the closest tick (0, 20, 40, 60, 80)
          let nearestTick = Math.round(percentage / 20);
          // Clamp to valid range
          nearestTick = Math.max(0, Math.min(4, nearestTick));
          
          // Update current tick index
          currentTickIndex = nearestTick;
          updateSlider(currentTickIndex);
        });
        
        // Dragging functionality
        let isDragging = false;
        
        thumb.addEventListener('mousedown', function() {
          isDragging = true;
        });
        
        document.addEventListener('mousemove', function(e) {
          if (!isDragging) return;
          
          const sliderRect = slider.getBoundingClientRect();
          const movePositionY = e.clientY - sliderRect.top;
          const sliderHeight = sliderRect.height;
          
          // Calculate percentage (0 to 100)
          let percentage = (movePositionY / sliderHeight) * 100;
          
          // Clamp percentage
          percentage = Math.max(0, Math.min(100, percentage));
          
          // Find nearest tick position (0, 20, 40, 60, 80)
          let nearestTick = Math.round(percentage / 20);
          // Clamp to valid range
          nearestTick = Math.max(0, Math.min(4, nearestTick));
          
          if (nearestTick !== currentTickIndex) {
            currentTickIndex = nearestTick;
            updateSlider(currentTickIndex);
          }
        });
        
        document.addEventListener('mouseup', function() {
          if (isDragging) {
            isDragging = false;
          }
        });
      }
    });
  </script>

<script src="../assets/js/core/popper.min.js"></script>
<script src="../assets/js/core/bootstrap.min.js"></script>
<script src="../assets/js/plugins/perfect-scrollbar.min.js"></script>
<script src="../assets/js/plugins/smooth-scrollbar.min.js"></script>
<script src="../assets/js/plugins/chartjs.min.js"></script>
<!-- <script>
  var ctx = document.getElementById("chart-bars").getContext("2d");

  new Chart(ctx2, {
      type: "line",
      data: {
        labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        datasets: [{
            label: "Mobile apps",
            tension: 0.4,
            borderWidth: 0,
            pointRadius: 0,
            borderColor: "#cb0c9f",
            borderWidth: 3,
            backgroundColor: gradientStroke1,
            fill: true,
            data: [50, 40, 300, 220, 500, 250, 400, 230, 500],
            maxBarThickness: 6

          },
          {
            label: "Websites",
            tension: 0.4,
            borderWidth: 0,
            pointRadius: 0,
            borderColor: "#3A416F",
            borderWidth: 3,
            backgroundColor: gradientStroke2,
            fill: true,
            data: [30, 90, 40, 140, 290, 290, 340, 230, 400],
            maxBarThickness: 6
          },
        ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            display: true,
          }
        },
        interaction: {
          intersect: false,
          mode: 'index',
        },
        scales: {
          y: {
            grid: {
              drawBorder: false,
              display: true,
              drawOnChartArea: true,
              drawTicks: false,
              borderDash: [5, 5]
            },
            ticks: {
              display: true,
              padding: 10,
              color: '#b2b9bf',
              font: {
                size: 11,
                family: "Inter",
                style: 'normal',
                lineHeight: 2
              },
            }
          },
          x: {
            grid: {
              drawBorder: false,
              display: false,
              drawOnChartArea: false,
              drawTicks: false,
              borderDash: [5, 5]
            },
            ticks: {
              display: true,
              color: '#b2b9bf',
              padding: 20,
              font: {
                size: 11,
                family: "Inter",
                style: 'normal',
                lineHeight: 2
              },
            }
          },
        },
      },
    });


  
</script> -->

<script>
  document.addEventListener("DOMContentLoaded", function() {
      const ctx = document.getElementById("chart-line").getContext("2d");

      var gradientStroke1 = ctx.createLinearGradient(0, 230, 0, 50);

      gradientStroke1.addColorStop(1, 'rgba(203,12,159,0.2)');
      gradientStroke1.addColorStop(0.2, 'rgba(72,72,176,0.0)');
      gradientStroke1.addColorStop(0, 'rgba(203,12,159,0)'); //purple colors

      var gradientStroke2 = ctx.createLinearGradient(0, 230, 0, 50);  

      gradientStroke2.addColorStop(1, 'rgba(20,23,39,0.2)');
      gradientStroke2.addColorStop(0.2, 'rgba(72,72,176,0.0)');
      gradientStroke2.addColorStop(0, 'rgba(20,23,39,0)'); //purple colors
      new Chart(ctx, {
          type: "line",
          data: {
              labels: ["00:00", "02:00", "04:00", "06:00", "08:00", "10:00", "12:00", "14:00", "16:00", "18:00", "20:00", "22:00"],
              datasets: [{
                  label: "Water Level (%)",
                  tension: 0.4,
                  borderWidth: 0,
                  pointRadius: 0,
                  borderColor: "#cb0c9f",
                  borderWidth: 3,
                  backgroundColor: gradientStroke1,
                  fill: true,
                  data: [50, 40, 300, 220, 500, 250, 400, 230, 500, 100, 23, 112],
                  maxBarThickness: 6
              },
              {
                  label: "Water Level 2",
                  tension: 0.4,
                  borderWidth: 0,
                  pointRadius: 0,
                  borderColor: "#3A416F",
                  borderWidth: 3,
                  backgroundColor: gradientStroke2,
                  fill: true,
                  data: [30, 80, 200, 120, 200, 255, 200, 310, 200],
                  maxBarThickness: 6
              }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: true,
              }
            }
          },
          interaction: {
          intersect: true,
          mode: 'dataset',
        },
        scales: {
        y: {
          grid: {
            drawBorder: false,
            display: false,
            drawOnChartArea: false,
            drawTicks: false,
            borderDash: [5, 5]
          },
          ticks: {
            display: true,
            padding: 10,
            color: '#b2b9bf',
            font: {
              size: 11,
              family: "Inter",
              style: 'normal',
              lineHeight: 2
            },
          }
        },
        x: {
          grid: {
            drawBorder: false,
            display: false,
            drawOnChartArea: false,
            drawTicks: false,
            borderDash: [5, 5]
          },
          ticks: {
            display: true,
            color: '#b2b9bf',
            padding: 20,
            font: {
              size: 11,
              family: "Inter",
              style: 'normal',
              lineHeight: 2
            },
          }
        },
      }
      });
  });
</script>

<script>
  var win = navigator.platform.indexOf('Win') > -1;
  if (win && document.querySelector('#sidenav-scrollbar')) {
    var options = {
      damping: '0.5'
    }
    Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
  }
</script>
<script>
  let loadingTimeout, startTime, duration, interval;

  function updateLabel() {
      document.getElementById("sliderValue").innerText = document.getElementById("slider").value;
  }

  function startLoading() {
      let button = document.getElementById("startButton");
      let cancelButton = document.getElementById("cancelButton");

      duration = parseInt(document.getElementById("slider").value) * 1000;
      startTime = Date.now();

      button.classList.add("loading");
      button.innerText = "Loading...";
      button.style.setProperty("--duration", duration + "ms");

      cancelButton.style.display = "inline-block"; // Show Cancel button

      // Start manual progress tracking (in case animation doesn't apply)
      interval = setInterval(() => {
          let elapsed = Date.now() - startTime;
          let progress = Math.min((elapsed / duration) * 100, 100);
          button.style.background = `linear-gradient(to right, #4CAF50 ${progress}%, #ddd ${progress}%)`;

          if (progress >= 100) {
              clearInterval(interval);
              resetButton();
          }
      }, 100);

      // Automatically reset after the duration
      loadingTimeout = setTimeout(resetButton, duration);
  }

  function cancelLoading() {
      clearTimeout(loadingTimeout);
      clearInterval(interval);
      resetButton();
  }

  function resetButton() {
      let button = document.getElementById("startButton");
      let cancelButton = document.getElementById("cancelButton");

      button.classList.remove("loading");
      button.innerText = "Start";
      button.style.background = "#4CAF50"; // Reset color
      cancelButton.style.display = "none"; // Hide Cancel button
  }
</script>

<script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="../assets/js/soft-ui-dashboard.min.js?v=1.1.0"></script>
</body>
</html>